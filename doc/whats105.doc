                Базовая версия - Parma Tosser 1.05

====================== Отличия версии 1.05.01 beta ========================

   Модификация команды Link - LinkF. По этой команде линковка областей
производится с использованием совершенно другого алгоритма, реализованного
Вадимом Белманом (2:464/15). Основное его преимущество - скорость. В моих
тестах был получен выигрыш в 2-5 раз по сравнению с Link в зависимости от
размера базы и эффективности кэша. Реализованы все методы линковки. Старый
алгоритм сохранен и вызывается, как и раньше, командой Link.
!!! Внимание! Новый алгоритм очень активно расходует оперативную память.
Категорически не рекомендуется использовать эту команду в DOS-версии, хотя
она и включена в эту версию. При нехватке памяти версия под DOS может сделать
все, что угодно - зависание системы, порча базы, разрушение FAT etc. Кое-какие
меры для корректного завершения работы в таких ситуациях приняты, но пока явно
недостаточные.
   Исправлен модуль работы с архивами - сейчас командная строка запуска может
содержать до 20 слов, включая имя программы (ранее было не больше 10). Это
позволило устранить трапы при использовании RAR с большим набором ключей. В
будущем ограничение на число параметров будет устранено совсем.
   Реализован давно объявленный, но неработавший алгоритм отключения допаковки
в бинк-стиле при обнаружении флага .BSY (.CSY). В предыдущих версиях пакет на
адрес, для которого обнаружен такой флаг, просто не паковался до следующего
запуска.
   Исправлены небольшие ошибки в обработке WorkOutbound.

====================== Отличия версии 1.05.02 beta ========================

   Изменения в модуле линковки Вадима Белмана (LinkF). Во-первых, приняты
меры по сокращению требуемого количества памяти в DOS-версии, в связи с чем
на небольших базах эту команду можно использовать и под DOS. Во-вторых, в
программу включена возможность визуального отображения процесса линковки.
Для поддержки этого отображения служит новое ключевое слово LinkFVerbStep:
LinkFVerbStep 100
Параметр после этого ключевого слова задает шаг отображения - в приведенном
примере строка состояния процесса линковки будет меняться через каждые 100
писем.
   Изменения в алгоритме обработки бизи-флагов. Сейчас флаги бинк-стиля (.BSY
и .CSY) проверяются при любом типе аутбаунда, а если указан каталог для
FrontDoor-like флагов, то проверяются и они. Кроме того, при любом типе
аутбаунда создаются .BSY флаги, а при необходимости - и FrontDoor-like флаги.
   В функцию обработки темплейтов включена перекодировка русских букв 'р' и
'Н' на соответствующие латинские буквы. Поскольку это может замедлить постинг
больших файлов, в следующей версии это будет сделано отключаемым (возможно,
настраиваемым).

====================== Отличия версии 1.05.03 beta ========================

   Исправлена ошибка, из-за которой значение LinkFVerbStep для версий под DOS
и OS/2 устанавливалось в 1 при любом значении параметра.
   При обнаружении .bsy флага в бинк-стиле пакет, откладываемый без паковки
для следующего прохода, сейчас переименовывается в .OUT (раньше из-за ошибки
это не происходило). Также в этом случае устранена многократная запись в лог
информации о том, что пакет отправлен.
   При перемещении готовых архивов в бинк-аутбаунд или в файлбоксы устранена
5-секундная задержка в случае, если исходный и целевой каталоги находятся на
разных дисках.
   Введено ключевое слово TranslateRusHp, включающее перекодировку русских
букв 'Н' и 'р' при постинге и в других случаях обработки темплейтов. Связано
это с тем, что в некоторых случаях при трансляции происходит трап OS/2 по
невыясненным причинам, к тому же такая трансляция для больших файлов (или
больших отчетов вида %List) может занять много времени.
   Исправлена ошибка, приводившая к трапу в режиме файлбоксов в случае, если
в момент паковки уже существует архив с расширением ??Z и присутствует бизи-
флаг для адреса.

====================== Отличия версии 1.05.04 alpha =======================

   Внесены некоторые изменения в алгоритм проверки и создания бизи-флагов.
Во-первых, сейчас бизи-флаги создаются и проверяются не только в случае
паковки архивов, но и при отправке файлов ?например, сгенерированных по
%FAvail). Во-вторых, удаление созданных бизи-флагов сейчас производится и в
случае аварийного завершения (за исключением трапов). В-третьих, сейчас
бизи-флаги создаются не пустые, а в них записывается строка "ParToss busy
flag". Это сделано как временная мера для выяснения, кто виноват в том, что
в ряде случаев появляются неудаленные бизи-флаги.

====================== Отличия версии 1.05.05 alpha =======================

   Введено новое ключевое слово - ExtensionShift. Оно устанавливает число
сдвигов второй буквы расширения почтовых архивов. По умолчанию это значение
равно нулю, и ParToss будет искать входящие архивы только с расширениями
MO?, TU?, WE?, TH?, FR?, SA?, SU?. Если установить это значение равным 2,
ParToss будет искать, кроме архивов *.MO?, архивы *.MP? и *.MQ? (аналогично
и для других расширений). Такие архивы могут появиться, например, при частых
сеансах связи. Проверка на допустимость расширения после сдвига не делается,
поэтому установка значения сдвига больше 5 не рекомендуется. Синтаксис:

ExtensionShift 3

   Введено новое ключевое слово ManagerReScanDays и расширен синтаксис команды
эхо-менеджера %ReScan. Сейчас можно запросить у ParToss выполнить рескан базы
и отправить подписчику только письма, попавшие в базу не раньше определенного
числа дней. Запрос %ReScan сейчас выглядит так:

%ReScan <ECHOTAG> [<days>]

Ключевое слово ManagerReScanDays устанавливает значение параметра <days> по
умолчанию и используется в случае, если подписчик не указал этот параметр в
команде. По умолчанию это значение равно нулю - отправлять всю базу.

   Вадим Белман внес довольно много изменений в порядке подготовки к выпуску
версии под Unix. Кроме этого, реализована новая возможность, которую я пока
не буду документировать по причине неотлаженности. По этим причинам прошу быть
предельно осторожным при использовании этой версии - новые функции почти не
тестировались, старые тоже могут работать некорректно. Багрепорты принимаются
с благодарностью, но без угрызений совести.

====================== Отличия версии 1.05.06 alpha =======================

   Исправлена ошибка предыдущей версии - все "левые" кладжи заменялись на
кладж @ATTACH:, при этом портилась база.
   Исправлена старая ошибка, приводившая к аварийному завершению при попытке
записать строку в файл BadLog.

====================== Отличия версии 1.05.07 beta ========================

   Исправлена ошибка, приводившая к аварийному завершению при однопроходном
тоссинге в passthrough-область в случае, если файлы этой обзасти должны быть
размещены в несуществующем каталоге.
   Внесены некоторые косметические исправления.
   Исправлена небольшая ошибка с неосвобождением памяти.

====================== Отличия версии 1.05.08 beta ========================

   Максимальная длина названия эхо-области расширена с 40 символов до 60,
в соответствии с FSC-0074.
   Введено новое ключевое слово - LongAreaPath. При его указании создаваемые
области будут получать имена файлов не вида AUTOXXXX, а в соответствии с
именем области. При этом без изменений остаются буквы латинского алфавита,
цифры, знаки '.' и '_', все остальные символы заменяются на знак '_'. Если
область со сформированным именем уже существует, новая область получит имя,
к которому в конце добавлено "_1", "_2" и так далее. Например:
SPB.SYSOP.INFO получит имя d:\tc\echo\SPB.SYSOP.INFO
PVT.BOYS&GIRLS получит имя d:\tc\echo\PVT.BOYS_GIRLS
PVT.BOYS$GIRLS получит имя d:\tc\echo\PVT.BOYS_GIRLS_1
PVT.BOYS^GIRLS получит имя d:\tc\echo\PVT.BOYS_GIRLS_2
Никакие проверки на допустимость длинных имен в текущей операционной системе
и в текущей файловой системе не предусмотрены!
   Введено новое ключевое слово - EchoMailSemaphore. По назначению полностью
аналогично ключевому слову NetMailSemaphore, но семафор выставляется в том
случае, если в процессе работы Parma Tosser создал эхо-письмо.
   Исправлена ошибка в модуле обработки команды LinkF, приводившая в редких
случаях к трапу.
   Исправлена ошибка, приводившая к трапу при выполнении команды Purge на
больших базах, содержащих письма, побитые версией 1.05.05.
   Введено новое ключевое слово - CarbonSetLocal. Сейчас по умолчанию атрибут
Local на письма, отправляемые в карбон-области, не ставится. Если необходимо
экспортировать эти письма из таких областей, установите это ключевое слово.
   Ключевое слово CarbonMove сейчас работает в соответствии с названием и для
нетмейла.

====================== Отличия версии 1.05.09 beta ========================

   Исправлена ошибка предыдущих версий - ключевое слово ExtensionShift не
работало.
   Исправлена ошибка версии 1.05.08 - при включенном LongAreaPath все символы
создаваемой области заменялись на '_' при записи в файл конфигурации.
   Расширен синтаксис описания эхо-областей. Ключ -$b<dupes> сейчас может
быть задан в виде -$bk<dupes>, в этом случае для данной обнасти принудительно
включается параметр KillDupes, независимо от глобальных установок.
   Модифицирована обработка ключевого слова DomainGate. Сейчас, если в этом
ключевом слове заданы параметры < и =, причем пойнтовая часть адреса у обоих
этих параметров задана звездочкой, адрес отправителя будет транслироваться с
сохранением номера пойнта.
   Исправлена ошибка, из-за которой происходила допаковка в бандлы недельной
давности даже при достижении бандлом максимального размера.
   Исправлена ошибка, приводившая к аварийному завершению при формировании
файла, указанного ключевым словом MakeAreaList, если в строку шаблона включено
описание области и в списке областей есть области с описанием.
   Устранена причина трапа при задании команды ParToss Hand без дополнительных
параметров.
   Внесено еще несколько мелких исправлений.

====================== Отличия версии 1.05.10 beta ========================

   Исправлено несколько ошибок предыдущих версий.

====================== Отличия версии 1.05.11 beta ========================

   Исправлена ошибка предыдущей версии, приводившая к потере писем в базе -
вместо правильного числа писем в базе в заголовок записывалось значение 256.

====================== Отличия версии 1.05.12 beta ========================

   Исправлена ошибка - пропадал модификатор k в ключе -$b[k]<dupes> при любой
перезаписи списка областей.
   Исправлена ошибка, приводившая к трапу или аварийному завершению работы
при раскомментированном ключевом слове KillDupes.
   Введено новое ключевое слово - ListAsFull. При его указании команда %List
генерирует отчеты по командам %List и %Avail одновременно.

====================== Отличия версии 1.05.13 beta ========================

   Исправлена ошибка, приводившая к пропаданию сигнатуры поля @MSGID (вернее,
всего, что идет после адреса) в нетмейле при модификации письма в режиме
Fake Point (замене адреса отправителя на .0). Аналогичная проблема в эхомейле
была исправлена довольно давно.
   Исправлена ошибка, приводившая к порче базы при одновременном выполнении
команд Post Purge. При этом портился индексный файл, и новые письма были не
видны в редакторе (это можно было исправить с помощью sqreidx.exe).
   Исправлено неудаление в некоторых случаях атрибута TRS в нетмейле,
предназначенном для нашей станции.

====================== Отличия версии 1.05.14 beta ========================

   Исправлены ошибки, приводившие к задержкам и трапам во время паковки почты
при наличии бизи-флагов.
   Исправлено еще несколько ошибок разной степени тяжести.
   Эта версия отлаживалась на крупной хабовой станции.

====================== Отличия версии 1.05.15 beta ========================

   Исправлена ошибка, из-за которой при выполнении команды ParToss Purge с
указанием списка областей -fecholog.log при каждом запуске обрабатывалась
только одна область.
   Исправлен еще ряд небольших ошибок.
   В экспортируемые письма, созданные на нашей станции, сейчас вставляется
кладж @TID.
   Сняты ограничения на степень детализации лог-файла в незарегистрированной
версии.

====================== Отличия версии 1.05.16 beta ========================

   Устранены некоторые причины трапа при выполнении Purge при нарушенной
структуре файлов области.
   Введено новое ключевое слово - DoNotCheckCSY. При его указании ParToss
не обращает внимания на бизи-файлы *.csy.
   Изменен алгоритм поиска старых архивов команды Kill. Сейчас ParToss ищет
архивы для линка, созданные для любого типа аутбаунда, с любым методом
формирования имени архива, и для всех адресов отправителя, указанных в
конфиге. В результате команда выполняется значительно дольше, но находит
все архивы для адреса, даже если после их создания для адреса был изменен тип
аутбаунда или метод формирования имен архивов.
   В модуль Linkf включена проверка на целостность базы, что позволило обойти
некоторые трапы при выполнении линковки базы с нарушенной структурой.

====================== Отличия версии 1.05.17 beta ========================

   Исправлена ошибка, из-за которой не создавались отчеты команды Kill, если
файл темплейта находился не в каталоге запуска ParToss.
   Исправлена ошибка, из-за которой в некоторых случаях по команде Kill не
сканировался каталог Outbound.SQ.
   Новая команда - ReLink. По этой команде формируются запросы на подписку ко
всем аплинкам для всех эхо-областей, на которые мы подписаны у этого аплинка.
Формат вызова команды:
ParToss ReLink [<UpLink Address>]
Если в команде указан адрес аплинка, запрос формируется только для этого
адреса. Если адрес опущен, выполняется запрос для всех адресов, описанных как
ManagerUpLink. Адрес может быть задан в полной или сокращенной форме, а также
в виде маски адресов. Примеры:
ParToss ReLink 2:5030/51
ParToss ReLink /51
ParToss ReLink 2:*
В последнем случае будет сформирован запрос ко всем аплинкам из второй зоны.

====================== Отличия версии 1.05.18 alpha =======================

   Исправлена ошибка, из-за которой иногда происходил трап на команде Purge
при битой базе.
   При переносе писем в BadArea в них сейчас добавляется псевдокладж @Reason:.
В этом кладже указывается причина помещения письма в BadArea в том же виде, в
каком она приводится в логе. При экспорте писем этот кладж удаляется.
   Отладочный вывод в лог по команде Kill перенесен на LogLevel 12.
   Лог-файл сейчас открывается или создается в режиме SH_DENYNO. Это должно
позволить внешним программам писать в лог во время работы ParToss.
   Предположительно решена проблема с генерацией дупов при тоссинге из файла
PtBackUp.Tkp, если письма туда попали по причине нарушенной структуры базы.
Обратите внимание - это альфа-версия! Она не тестировалась в рабочем режиме,
поэтому рекомендую использовать ее очень осторожно.

====================== Отличия версии 1.05.19 beta =======================

   Исправлено несколько мелких ошибок.
   При обработке запросов %FAvail, %EFList в незарегистрированной версии
производится запись в лог о причине невыполнения этих запросов.
   С Новым годом!

====================== Отличия версии 1.05.20 alpha =======================

   Исправлена ошибка версий .18, .19, из-за которой происходило зависание
при выполнении команды Out на письмах с кладжем @Reason:.

====================== Отличия версии 1.05.21 alpha =======================

   Введено пять новых ключевых слов: BeforeUnPack, AfterUnPack,
AfterUnPackAll, BeforePack, AfterPack. У каждого ключевого слова единственный
паpаметp - имя батника/цмдшника.
BeforeUnPack вызывается пеpед pаспаковкой каждого бандла, емy пеpедается в
качестве паpаметpа имя бандла.
AfterUnPack вызывается после pаспаковки, емy никаких паpаметpов не пеpедается.
AfterUnPackAll вызывается после pаспаковки всех бандлов, емy никаких
паpаметpов не пеpедается.
BeforePack вызывается пеpед yпаковкой выходного пакета, емy пеpедается в
качестве паpаметpа имя пакета.
AfterPack вызывается после yпаковки каждого пакета, емy пеpедается в текстовом
виде код возвpата аpхиватоpа (веpнее, аpхивиpyющей фyнкции).
Все запyски батников идyт чеpез вызов фyнкции system(), так что под DOS могyт
возникнyть пpоблемы с памятью - свопинг здесь не пpоизводится.
   Расшиpен синтаксис ключевого слова ExportStyle. Кpоме паpаметpов Safe и
Fast, его сейчас можно yказывать в виде
ExportStyle <number>
пpи этом бyдет одновpеменно откpываться не более <number> выходных пакетов.
Экспеpиментальным пyтем я подобpал для своей конфигypации (Windows NT)
<number>=12. Пpи 13 yже идет вылет с этой ошибкой. Под OS/2 это число может
быть дpyгим.

====================== Отличия версии 1.05.22 beta =======================

   Исправлена еще одна ошибка предыдущих версий, связанная с кладжем @Reason:,
из-за которой при помещении письма в BadArea обрезалась служебная информация
или часть текста письма.

====================== Отличия версии 1.05.23 beta =======================

   Внешняя программа, запускаемая по AfterUnPackAll, сейчас запускается, если
во время цикла был распакован хотя бы один архив, и в большинстве случаев не
будет запускаться дважды.
   Исправлена ошибка, из-за которой ParToss не видел файлы (бандлы и пакеты)
со снятым атрибутом Archive на NTFS разделе.
   Для совместимости с программами, использующими Squish API, скорректирован
метод определения числа писем в области.

====================== Отличия версии 1.05.24 beta =======================

   Исправлена старая ошибка - не всегда ловились дупы, если размер письма
больше размера Buffers.
   Проведена еще одна корректировка для совместимости с программами, которые
используют MSGAPI.
   Еще раз скорректировано поведение AfterUnPackAll. Сейчас выполняется как
минимум один запуск этой команды, даже при отсутствии входящих архивов - для
обработки пришедших непакованных пакетов.
   При переименовании поврежденного пакета сейчас в лог и на экран выводится
смещение в файле, на котором ParToss принял решение о повреждении пакета.
Реальное место повреждения следует искать перед этим смещением. Если в пакете
несколько поврежденных участков, будет указано смещение последнего из них.

====================== Отличия версии 1.05.25 alpha ======================

   Встроена экспериментальная функция генерации LongName fileboxes.
1. В описании линков добавлен новый ключ:
^<Style>[<Domain>]
2. Новое ключевое слово:
BoxStyle <Style>[<Domain>]
Параметр Style может принимать значения:
0 - 32-based boxes, стандартные "короткие" файлбоксы
1 - long boxes в стиле T-Mail
2 - long boxes в стиле TheBrake!
Параметр Domain нужен только в случае Style 2. Его длина не должна превышать
8 символов (лишние символы просто обрежутся).
Алгоритм формирования имен файлбоксов сейчас такой:
- проверяется наличие "заказного" файлбокса, заданного ключевым словом
  LinkAdvanced;
- если такого нет, ищем стиль в описании линка;
- если не нашли, ищем стиль по умолчанию;
- если не установлен и этот стиль, генерируем "короткое" имя.
Обратите внимание, что ключевое слово BoxStyle должно быть задано до описаний
линков.
Примеры имен для разных стилей (2:5030/177.1@fidonet):
- default, BoxStyle 0, ^0
C:\FIDO\BOXES\024T605H.01
C:\FIDO\BOXES\024T605H.01H
- BoxStyle 1, ^1
c:\fido\boxes\2.5030.177.1
c:\fido\boxes\2.5030.177.1.H
- BoxStyle 2FidoNet, ^2FidoNet
c:\fido\boxes\FidoNet.2.5030.177.1.Normal
c:\fido\boxes\FidoNet.2.5030.177.1.Hold
   Добавлено новое ключевое слово - LogLevelShow. Если оно указано, в лог
между строкой времени и информационной частью будет в квадратных скобках
вставлен уровень лога, на котором выводится сообщение. То есть строка
19 Feb 99  09:20:51 Begin, ParToss 1.05.24/W32 beta
превратится в строку
19 Feb 99  19:20:51 [ 1] Begin, ParToss 1.05.25/W32 alpha
   Добавлена пробная финтифлюшка в W32 версии.

====================== Отличия версии 1.05.26 alpha ======================

   Ключевое слово SinglePass запрещает повторный просмотр входных каталогов
в поисках бандлов и пакетов, которые могли появиться там за время тоссинга.
   Новое ключевое слово - TestForMustDie. Это ключевое слово временное! Оно
исчезнет в ближайших версиях. Прошу всех, кто работает под '95 и у кого бывают
случаи многократной распаковки бандлов, включить это ключевое слово в конфиг
и сообщить мне о результатах. Я надеюсь на устранение повторной распаковки, но
это нуждается в тщательной проверке.
   Новое ключевое слово - DoNotCheckBSY. При его указании отключается проверка
наличия бизи-флагов бинк-стиля и их создание.
   Исправлена (кажется) довольно старая ошибка - в режиме ArcMailAttach для
бандла с расширением ??Z не создавалось письмо с аттачем.

====================== Отличия версии 1.05.27 alpha ======================

   Исправлена ошибка, приводившая к трапам при тоссинге в залоченную или
поврежденную область с созданием ptbackup.tkp.
   Исправлена старая ошибка - при обработке одновременно нескольких запросов
к эхоменеджеру с подпиской/отпиской на одну и ту же область в конфиг попадали
изменения только по последнему из запросов.
   Добавлен отладочный вывод в лог в нескольких местах.

====================== Отличия версии 1.05.28 alpha ======================

   Исправлена ошибка, возникшая вследствие исправления ошибки в версии 1.05.27.
Из-за этой ошибки не функционировал эхоменеджер.
   Исправлена еще одна ошибка, которая была возможной причиной трапа при
тоссинге в залоченную или поврежденную область с созданием ptbackup.tkp.

====================== Отличия версии 1.05.29 alpha ======================

   Исправлена ошибка, из-за которой в ряде случаев происходил трап при работе
эхо-менеджера.
   Исправлена ошибка, из-за которой passthrough области сканировались при
выполнении команды Out независимо от ключевого слова ScanPassThrough.
   Исправлена ошибка, приводившая к трапу при выполнении команды ReLink.

====================== Отличия версии 1.05.30 alpha ======================

   Исправлена еще одна ошибка, из-за которой passthrough области сканировались
при выполнении команды Out независимо от ключевого слова ScanPassThrough.
   Встроена минимальная проверка на целостность дупобазы, при ее разрушении
в лог производится соответствующая запись.

====================== Отличия версии 1.05.31 alpha ======================

   Исправлена ошибка, приводившая к трапу при некоторых комбинациях команд,
например, Kill Purle Link Out.
   Исправлено несколько ошибок в модуле обработки команды эхоменеджера
%Address.
   Сделано несколько косметических улучшений.

====================== Отличия версии 1.05.32 alpha ======================

   Исправлена ошибка, могущая приводить к зацикливанию при выполнении команды
Serv.
   Исправлена ошибка, из-за которой ParToss не находил пакеты без атрибутов.

====================== Отличия версии 1.05.33 alpha ======================

   Исправлена ошибка, приводившая в ряде случаев к зависанию при выполнении
команды In Out Serv (попытка повторного открытия BadArea).
   Исправлена ошибка, приводившая к созданию структуры рабочих каталогов в
каталоге запуска при недоступности рабочего диска.
   Введен новый ключ в описании эхообластей - -$@. Этот ключ принудительно
включает для данной области режим SaveControlInfo Yes, перекрывая глобальную
установку.

====================== Отличия версии 1.05.34 beta =======================

   Исправлены ошибки, из-за которых при удалении старых бандлов по команде
Kill не удалялись соответствующие строки в файлах *.?lo.
   Введено новое ключевое слово - DoNotTossIfDamaged. При его указании, если
в процессе обработки входного пакета обнаружено нарушение его структуры, не
производится попытка обнаружить и извлечь письма после разрушенной области.

====================== Отличия версии 1.05.35 alpha ======================

   Введено новое ключевое слово - ManagerReplyDirect. При его указании письма,
генерируемые эхоменеджером, будут снабжаться атрибутом Dir. Независимо от
этого ключевого слова письма, генерируемые эхоменеджером для линков с ключом
+H, будут снабжаться атрибутом Hld.

====================== Отличия версии 1.05.36 alpha ======================

   Исправлена ошибка предыдущей версии - трап при обработке эхоменеджером
письма от неизвестного линка.
   Исправлена ошибка предыдущей версии - простановка атрибута Hld на письма
к аплинкам с форвардом подписки.
   Исправлено несколько ошибок в модуле карбонкопирования из нетмейла.
   Добавлен отладочный вывод в лог при LogLevel 11, 12 большого количества
информации. Рекомендую без необходимости не включать эти уровни лога.

====================== Отличия версии 1.05.37 alpha ======================

   Введено новое ключевое слово - PasswordIgnoreCase. При его указании пароли
на входных пакетах проверяются без учета регистра символов, а в выходные
пакеты пароли прописываются с преобразованием к верхнему регистру.
   Исправлена ошибка, приводившая к порче базы и созданию некорректных пакетов
при тоссинге пакета, письма в котором созданы с нарушением стандартов - кладжи
завершаются не байтом 0x0D, а парой байт 0x0D0A.
   Исправлена (предположительно) ошибка, из-за которой в ряде случаев ParToss
выбирал некорректный AKA для области, автосоздаваемой при форварде подписки.
   Исправлена еще одна (надеюсь, последняя) ошибка, приводившая к трапу при
помещении письма в бэды.

====================== Отличия версии 1.05.38 alpha ======================

   Исправлена ошибка, приводившая к трапу при указании ключевого слова
PasswordIgnoreCase.
   Исправлена ошибка, приводившая к замене поля Subj: в письмах к аплинкам с
форвардом автоподписки при разделении письма на части из-за большого размера.

====================== Отличия версии 1.05.39 alpha ======================

   Предпринята еще одна попытка найти и обезвредить ошибку, приводящую иногда
к массовому ошибочному выбросу писем в бэды при большом объеме тоссинга.
Сейчас при помещении письма в бэды контролируется корректность установки
области. При обнаружении ошибочной информации тоссинг прекращается, работа
завершается с errorlevel 15, при этом в лог при LogLevel 11 и выше выводится
подробная информация об открытых областях, обрабатываемом пакете и письме.
Такой сбой может привести к генерации дупов из-за повторной обработки пакета,
но это лучше, чем потеря почты или оседание ее в бэдах на неопределенный срок.
   Введена новая функция - при подписке линка на эху ParToss сейчас может
автоматически отправить этому линку письма с правилами данной эхи. Для этого,
во-первых, нужно вставить в конфиг новое ключевое слово ManagerSendRules, а
во-вторых, подготовить файл с текстом правил, присвоить ему имя, совпадающее
с групповым именем файлов эхо-области, и расширение .sqr, и положить этот файл
в тот же каталог, где размещены остальные файлы эхо-области. Например, если
область описана как
EchoArea WISE_TALKS x:\fido\echo\wisetalk -$ -p2:5030/177 .1 .3 777
файл правил с именем wisetalk.sqr должен находиться в каталоге x:\fido\echo\.
Файл с правилами рассматривается как простой текстовый файл и вставляется в
письмо с использованием стандартного темплейта ответа эхоменеджера.

====================== Отличия версии 1.05.40 alpha ======================

   Исправлена ошибка версий 1.05.38 и 1.05.39, из-за которой некорректно
работал эхоменеджер при генерации ответов, состоящих из нескольких частей.

====================== Отличия версии 1.05.41 alpha ======================

   Исправлена старая ошибка в алгоритме разбора строки описания области,
из-за которой некорректно обрабатывались строки с путем вида "..\echo\base".
При таком задании корневого имени базы эхоменеджер иногда не подписывал
линков, а в некоторых случаях добавлял в список подписчиков лишние адреса
вида .0.
   Добавлен новый ключ в описании линков - +D/-D. Этот ключ перекрывает
глобальную установку ManagerSendRules для конкретного линка - +D включает
режим отправки правил эхи при подписке на нее, даже если ключевое слово
отсутствует, а -D отключает этот режим.
   Добавлен новый ключ командной строки - -S. При указании этого ключа для
команды Out ParToss будет сканировать базы в поисках неотправленных писем с
первого письма, не обращая внимание на HighWaterMark. Экспорт при этом будет
выполняться значительно медленнее, поэтому не рекомендую использовать этот
ключ постоянно - он нужен только для повторной отправки ранее отправленного
письма (не забудьте предварительно в редакторе снять с него флаг Snt).
   Исправлено еще несколько мелких ошибок и неточностей.

====================== Отличия версии 1.05.42 alpha ======================

   Правила эхо-области сейчас отправляются только при подписке на нее или при
переводе ее из Passive в Active. Кроме этого, правила сейчас отправляются без
использования стандартного темплейта.

====================== Отличия версии 1.05.43 alpha ======================

   Изменен алгоритм обработки строк описания эхо-областей для обеспечения
полной совместимости с эхопроцессором Squish в части описания линков. Сейчас
корректно обрабатываются строки, в которых адрес линка встречается дважды и
более, при этом модификаторы ограничения прав суммируются. Таким образом,
строка
EchoArea ECHOTAG x:\path\echobase -$ -p2:5030/177 -x.1 .1 .10 -y.10 251
полностью аналогична строке
EchoArea ECHOTAG x:\path\echobase -$ -p2:5030/177 -x.1 -y.10 251
В предыдущих версиях при первом варианте описания письма для .1 паковались
дважды.

====================== Отличия версии 1.05.44 beta =======================

   Исправлена ошибка Y2K в функции перевода строкового представления даты и
времени в бинарное. ParToss сейчас полностью готов к работе после 2000 года.
   Введено новое ключевое слово - DoNotCarbonFromPassThru. При его указании
карбонкопирование из passthrough областей производиться не будет.
   Исправлена ошибка в модуле формирования имен файлбоксов - при указании
имени домена в 8 символов (стиль TheBrake!) после имени домена появлялись
произвольные символы.

====================== Отличия версии 1.05.45 gamma ======================

   Исправлена ошибка, из-за которой при разрешенном FixedOutAddress в ряде
случаев не отправлялась почта на чужих пойнтов.
   Вставлен обход ошибки неизвестной мне программы, генерирующей письма с
нарушением структуры (символ перевода строки перед кладжами).

====================== Отличия версии 1.06 release =======================

   Исправлена ошибка, приводившая к трапу при выполнении команды Post, если
установлен LogLevel 0.
